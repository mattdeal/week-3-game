<!DOCTYPE html>
<html>
<head>
	<title>Hangman</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Permanent+Marker">
  	<script src="https://code.jquery.com/jquery-2.2.3.js" integrity="sha256-laXWtGydpwqJ8JA+X9x2miwmaiKhn8tVmOVEigRNtP4=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="assets/javascript/game.js"></script>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="text-center">
					<h1>HANGMAN</h1>
					<h3 class="text-center">Press a letter to get started!</h3>
				</div>
			</div>
		</div> <!-- end header row -->

		<div class="row">
			<div class="col-md-6">
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 border-bottom">&nbsp;</div>
					<div class="col-md-1 border-bottom">&nbsp;</div>
					<div class="col-md-1 border-bottom">&nbsp;</div>
					<div class="col-md-1">
						<div class="row">
							<div class="col-md-6 border-bottom">&nbsp;</div>
						</div>
					</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 1 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">
						<div class="row">
							<div class="col-md-6 border-right">&nbsp;</div>
						</div>
					</div>
					<!-- <div class="col-md-1">&nbsp;</div> -->
					<div class="col-md-1"></div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 2 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<!-- <div class="col-md-1">&nbsp;</div> -->
					<div class="col-md-3 part part-1">&nbsp;</div>
					<!-- <div class="col-md-1">&nbsp;</div> -->
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 3 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<!-- <div class="col-md-1 part">&nbsp;</div> -->
					<div class="col-md-3 part part-1a">&nbsp;</div>
					<!-- <div class="col-md-1 part">&nbsp;</div> -->
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 4 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-3">&nbsp;</div>
					<!-- <div class="col-md-1">&nbsp;</div> -->
					<div class="col-md-3 part part-1">&nbsp;</div>
					<!-- <div class="col-md-1">&nbsp;</div> -->
					<div class="col-md-1 part part-4">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 5 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-3">&nbsp;</div>
					<div class="col-md-1 part part-2">&nbsp;</div>
					<div class="col-md-1 part part-4">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 6 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-2">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 7 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-2">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 8 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-2">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 9 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-2">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 10 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-5">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-6">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 11 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-5">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1 part part-6">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 12 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 13 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 14 -->
				<div class="row">
					<div class="col-md-2"></div> <!-- empty -->
					<div class="col-md-1 border-right">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-1">&nbsp;</div>
					<div class="col-md-2"></div> <!-- empty -->
				</div> <!-- end row 15 -->

				
			</div> <!-- end hangman div -->
			<div class="col-md-6">
				<div class="text-center">
					<!-- <div class="row">
						<div class="col-md-12">
							<h3 class="text-center">Press a letter to get started!</h3>
						</div>
					</div> -->
					<div class="row">
						<div class="col-md-12">
							<h3>Wins</h3>
							<h4 id="wins"></p>						
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<h3>Current Word</h3>
							<h4 id="currentWord"></h4>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<h3>Guesses Remaining</h3>
							<h4 id="guesses"></h4>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<h3>Guessed Letters</h3>
							<h4 id="guessedLetters"></h4>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<h4 id="gameMessage"></h4>						
						</div>
					</div>
				</div>				
			</div> <!-- end game state div -->
		</div> <!-- end game row -->		
	</div> <!-- end container -->

<!-- move into rows... -->

	

	<script>
		var game;

		$(document).ready(function() {
			game = new Game();
			updateUi();
		});		

		function updateUi() {
			console.log('updateUi');

			// show number of wins
			$('#wins').html(game.wins);

			// show current word
			$('#currentWord').html(game.currentWord.toString());

			// show guessed letters
			$('#guessedLetters').html(game.guessedLetters.toString());

			// show remaining guesses
			$('#guesses').html(game.guessesRemaining);

			// show play again option if necessary or draw the hangman
			var message = '';
			var messageClass = '';
			if (game.gameWon === true) {
				message = 'You Win.  Press any key to play again.';
				messageClass = 'text-success';
			} else if (game.gameOver === true) {
				message = 'Game Over.  Press any key to play again.';
				messageClass = 'text-danger';

				// draw part 6
				$('.part-6').html('\\\\\\');
			} else if (game.guessesRemaining < 2) {
				// draw part 5
				$('.part-5').html('///');
			} else if (game.guessesRemaining < 3) {
				// draw part 4
				$('.part-4').html('///');
			} else if (game.guessesRemaining < 4) {
				// draw part 3
				$('.part-3').html('\\\\\\');
			} else if (game.guessesRemaining < 5) {
				// draw part 2
				$('.part-2').html('|||');
			} else if (game.guessesRemaining < 6) {
				// draw part 1
				$('.part-1').html('ooooo');
				$('.part-1a').html('ooooo');
			}

			$('#gameMessage').html(message).attr('class',messageClass);
		}

		function resetHangman() {
			$('.part').html('');
		}

		document.onkeyup = function(event) {
			// Captures the key press, converts it to lowercase, and saves it to a variable.
			var letter = String.fromCharCode(event.keyCode).toLowerCase();

			// test game state
			if (game.gameOver === true || game.gameWon === true) {
				game.reset();
				resetHangman();
				updateUi();
			} else {
				// only accept letters - ascii code A-Z and a-z
				var charTest = letter.charCodeAt(0);
				if ((charTest > 64 && charTest < 91) || (charTest > 96 && charTest < 123)){
					// test against guessedLetters
					game.handleGuess(letter);
					updateUi();
				} else {
					console.log(letter + ' is not a letter');
				}
			}
		};
	</script>
</body>
</html>